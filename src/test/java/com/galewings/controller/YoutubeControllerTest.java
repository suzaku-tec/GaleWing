package com.galewings.controller;

import static org.mockito.ArgumentMatchers.anyString;
import static org.mockito.Mockito.doReturn;
import static org.mockito.Mockito.doThrow;
import static org.mockito.Mockito.spy;

import com.galewings.ModelMock;
import com.galewings.dto.YtdGridRendererDto;
import com.galewings.dto.output.YoutubeListSelectChannel;
import java.io.IOException;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import org.jsoup.Connection;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.mockito.MockedStatic;
import org.mockito.Mockito;

class YoutubeControllerTest {

  YoutubeController youtubeController = new YoutubeController();

  @Test
  void testIndex1() throws IOException {

    YoutubeController controller = spy(new YoutubeController());

    YoutubeListSelectChannel channel = new YoutubeListSelectChannel();
    channel.channelId = "channelid";
    channel.name = "name";
    doReturn(Arrays.asList(channel)).when(controller).channelList();
    doReturn(null).when(controller).videos(anyString());

    String result = controller.index(new ModelMock());
    Assertions.assertEquals("/youtube/index", result);
  }

  @Test
  void testIndex2() throws IOException {

    YoutubeController controller = spy(new YoutubeController());

    YoutubeListSelectChannel channel = new YoutubeListSelectChannel();
    channel.channelId = "channelid";
    channel.name = "name";
    doReturn(Arrays.asList(channel)).when(controller).channelList();
    doThrow(new IOException("test")).when(controller).videos(anyString());

    String result = controller.index(new ModelMock());
    Assertions.assertEquals("/youtube/index", result);
  }

  @Test
  void testVideos1() throws IOException {

    try (MockedStatic<Jsoup> mock = Mockito.mockStatic(Jsoup.class)) {

      Connection mockConnection = Mockito.mock(Connection.class);
      Mockito.when(mockConnection.get()).thenReturn(new Document(""));

      mock.when(() -> Jsoup.connect(anyString())).thenReturn(mockConnection);

      List<YtdGridRendererDto> result = youtubeController.videos("test");
      Assertions.assertEquals(Collections.emptyList(), result);
    }
  }

  @Test
  void testVideos2() throws IOException {

    try (MockedStatic<Jsoup> mock = Mockito.mockStatic(Jsoup.class)) {

      Document mockDocument = Mockito.mock(Document.class);
      Mockito.when(mockDocument.html()).thenReturn(
          "  <script nonce=\"YZmdywl83SJNqpTatgYzEw\">var ytInitialData = {\"responseContext\":\"\",\"contents\":{\"twoColumnBrowseResultsRenderer\":{\"tabs\":[{\"tabRenderer\":{\"endpoint\":{\"clickTrackingParams\":\"CKABEPCTARgFIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"url\":\"/channel/UCJFZiqLMntJufDCHc6bQixg/featured\",\"webPageType\":\"WEB_PAGE_TYPE_CHANNEL\",\"rootVe\":3611,\"apiUrl\":\"/youtubei/v1/browse\"}},\"browseEndpoint\":{\"browseId\":\"UCJFZiqLMntJufDCHc6bQixg\",\"params\":\"EghmZWF0dXJlZA%3D%3D\",\"canonicalBaseUrl\":\"/channel/UCJFZiqLMntJufDCHc6bQixg\"}},\"title\":\"ホーム\",\"selected\":false,\"trackingParams\":\"CKABEPCTARgFIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"tabRenderer\":{\"endpoint\":{\"clickTrackingParams\":\"CCAQ8JMBGAYiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"commandMetadata\":{\"webCommandMetadata\":{\"url\":\"/channel/UCJFZiqLMntJufDCHc6bQixg/videos\",\"webPageType\":\"WEB_PAGE_TYPE_CHANNEL\",\"rootVe\":3611,\"apiUrl\":\"/youtubei/v1/browse\"}},\"browseEndpoint\":{\"browseId\":\"UCJFZiqLMntJufDCHc6bQixg\",\"params\":\"EgZ2aWRlb3M%3D\",\"canonicalBaseUrl\":\"/channel/UCJFZiqLMntJufDCHc6bQixg\"}},\"title\":\"動画\",\"selected\":true,\"content\":{\"sectionListRenderer\":{\"contents\":[{\"itemSectionRenderer\":{\"contents\":[{\"gridRenderer\":{\"items\":[{\"gridVideoRenderer\":{\"videoId\":\"DJv6CZZD8xM\",\"thumbnail\":{\"thumbnails\":[{\"url\":\"https://i.ytimg.com/vi/DJv6CZZD8xM/hqdefault.jpg?sqp=-oaymwEbCKgBEF5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLDN1YXCqx9Ro2NFOyMcBgWOJmQWmg\",\"width\":168,\"height\":94},{\"url\":\"https://i.ytimg.com/vi/DJv6CZZD8xM/hqdefault.jpg?sqp=-oaymwEbCMQBEG5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLBa9eQSFUpanDH4EVHb4usLPWkeZg\",\"width\":196,\"height\":110},{\"url\":\"https://i.ytimg.com/vi/DJv6CZZD8xM/hqdefault.jpg?sqp=-oaymwEcCPYBEIoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLCWxuY1yNl8GilSaALJcdHiGct5Hw\",\"width\":246,\"height\":138},{\"url\":\"https://i.ytimg.com/vi/DJv6CZZD8xM/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLAk13ymJt6C5XsOa4a-cwUUBtVRXw\",\"width\":336,\"height\":188}]},\"title\":{\"runs\":[{\"text\":\"【感動】こどもたちが描いたホロライブ【こどもの日】\"}],\"accessibility\":{\"accessibilityData\":{\"label\":\"【感動】こどもたちが描いたホロライブ【こどもの日】作成者:hololiveホロライブ-VTuberGroup15時間前10分7秒133,459回視聴\"}}},\"publishedTimeText\":{\"simpleText\":\"15時間前\"},\"viewCountText\":{\"simpleText\":\"133,459回視聴\"},\"navigationEndpoint\":{\"clickTrackingParams\":\"CJwBEJQ1GAAiEwjdivqUzsn3AhVCgFYBHT22BjcyCmctaGlnaC1jcnZaGFVDSkZaaXFMTW50SnVmRENIYzZiUWl4Z5oBBRDyOBhmqgEYVVVKRlppcUxNbnRKdWZEQ0hjNmJRaXhn\",\"commandMetadata\":{\"webCommandMetadata\":{\"url\":\"/watch?v=DJv6CZZD8xM\",\"webPageType\":\"WEB_PAGE_TYPE_WATCH\",\"rootVe\":3832}},\"watchEndpoint\":{\"videoId\":\"DJv6CZZD8xM\",\"watchEndpointSupportedOnesieConfig\":{\"html5PlaybackOnesieConfig\":{\"commonConfig\":{\"url\":\"https://rr4---sn-oguesn6d.googlevideo.com/initplayback?source=youtube\\u0026orc=1\\u0026oeis=1\\u0026c=WEB\\u0026oad=3200\\u0026ovd=3200\\u0026oaad=11000\\u0026oavd=11000\\u0026ocs=700\\u0026oewis=1\\u0026oputc=1\\u0026ofpcc=1\\u0026msp=1\\u0026odeak=1\\u0026odepv=1\\u0026osfc=1\\u0026id=0c9bfa099643f313\\u0026ip=126.94.80.83\\u0026initcwndbps=1320000\\u0026mt=1651795741\\u0026oweuc=\"}}}}},\"badges\":[{\"metadataBadgeRenderer\":{\"style\":\"BADGE_STYLE_TYPE_SIMPLE\",\"label\":\"字幕\",\"trackingParams\":\"CJwBEJQ1GAAiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibilityData\":{\"label\":\"字幕\"}}}],\"ownerBadges\":[{\"metadataBadgeRenderer\":{\"icon\":{\"iconType\":\"CHECK_CIRCLE_THICK\"},\"style\":\"BADGE_STYLE_TYPE_VERIFIED\",\"tooltip\":\"確認済み\",\"trackingParams\":\"CJwBEJQ1GAAiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibilityData\":{\"label\":\"確認済み\"}}}],\"trackingParams\":\"CJwBEJQ1GAAiEwjdivqUzsn3AhVCgFYBHT22BjdAk-aPspnB_s0MqgEYVVVKRlppcUxNbnRKdWZEQ0hjNmJRaXhn\",\"shortViewCountText\":{\"accessibility\":{\"accessibilityData\":{\"label\":\"13万回視聴\"}},\"simpleText\":\"13万回視聴\"},\"menu\":{\"menuRenderer\":{\"items\":[{\"menuServiceItemRenderer\":{\"text\":{\"runs\":[{\"text\":\"キューに追加\"}]},\"icon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"serviceEndpoint\":{\"clickTrackingParams\":\"CJ8BEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJ8BEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"DJv6CZZD8xM\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJ8BEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"DJv6CZZD8xM\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"DJv6CZZD8xM\"]}}]}},\"trackingParams\":\"CJ8BEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}}],\"trackingParams\":\"CJwBEJQ1GAAiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibility\":{\"accessibilityData\":{\"label\":\"操作メニュー\"}}}},\"thumbnailOverlays\":[{\"thumbnailOverlayTimeStatusRenderer\":{\"text\":{\"accessibility\":{\"accessibilityData\":{\"label\":\"10分7秒\"}},\"simpleText\":\"10:07\"},\"style\":\"DEFAULT\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"isToggled\":false,\"untoggledIcon\":{\"iconType\":\"WATCH_LATER\"},\"toggledIcon\":{\"iconType\":\"CHECK\"},\"untoggledTooltip\":\"後で見る\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJ4BEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"addedVideoId\":\"DJv6CZZD8xM\",\"action\":\"ACTION_ADD_VIDEO\"}]}},\"toggledServiceEndpoint\":{\"clickTrackingParams\":\"CJ4BEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"action\":\"ACTION_REMOVE_VIDEO_BY_VIDEO_ID\",\"removedVideoId\":\"DJv6CZZD8xM\"}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"後で見る\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJ4BEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"untoggledIcon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"toggledIcon\":{\"iconType\":\"PLAYLIST_ADD_CHECK\"},\"untoggledTooltip\":\"キューに追加\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJ0BEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJ0BEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"DJv6CZZD8xM\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJ0BEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"DJv6CZZD8xM\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"DJv6CZZD8xM\"]}}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"キューに追加\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJ0BEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayNowPlayingRenderer\":{\"text\":{\"runs\":[{\"text\":\"再生中\"}]}}}],\"richThumbnail\":{\"movingThumbnailRenderer\":{\"movingThumbnailDetails\":{\"thumbnails\":[{\"url\":\"https://i.ytimg.com/an_webp/DJv6CZZD8xM/mqdefault_6s.webp?du=3000\\u0026sqp=CMnN0ZMG\\u0026rs=AOn4CLBsOPj7d3TaVfSpNxHKWgBnf4A4sQ\",\"width\":320,\"height\":180}],\"logAsMovingThumbnail\":true},\"enableHoveredLogging\":true,\"enableOverlay\":true}}}},{\"gridVideoRenderer\":{\"videoId\":\"VNX_EOB_tMY\",\"thumbnail\":{\"thumbnails\":[{\"url\":\"https://i.ytimg.com/vi/VNX_EOB_tMY/hqdefault.jpg?sqp=-oaymwEbCKgBEF5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLCb3Z0OTnQGoq_QE6IAx1SyH96dKA\",\"width\":168,\"height\":94},{\"url\":\"https://i.ytimg.com/vi/VNX_EOB_tMY/hqdefault.jpg?sqp=-oaymwEbCMQBEG5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLBAv-AQSKG8uo1RHdQr-Rs9GjHWlg\",\"width\":196,\"height\":110},{\"url\":\"https://i.ytimg.com/vi/VNX_EOB_tMY/hqdefault.jpg?sqp=-oaymwEcCPYBEIoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLDSF5Sx41aPAvzHxxWMjAQ5phHRJQ\",\"width\":246,\"height\":138},{\"url\":\"https://i.ytimg.com/vi/VNX_EOB_tMY/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLCtLcXiJCrky1Je9oBLbdOs640rfg\",\"width\":336,\"height\":188}]},\"title\":{\"runs\":[{\"text\":\"【漫画】hololiveERROR第12話「私じゃない」\"}],\"accessibility\":{\"accessibilityData\":{\"label\":\"【漫画】hololiveERROR第12話「私じゃない」作成者:hololiveホロライブ-VTuberGroup2分7秒1回視聴\"}}},\"viewCountText\":{\"runs\":[{\"text\":\"57\"},{\"text\":\"人が待機しています\"}]},\"navigationEndpoint\":{\"clickTrackingParams\":\"CJgBEJQ1GAEiEwjdivqUzsn3AhVCgFYBHT22BjcyCmctaGlnaC1jcnZaGFVDSkZaaXFMTW50SnVmRENIYzZiUWl4Z5oBBRDyOBhmqgEYVVVKRlppcUxNbnRKdWZEQ0hjNmJRaXhn\",\"commandMetadata\":{\"webCommandMetadata\":{\"url\":\"/watch?v=VNX_EOB_tMY\",\"webPageType\":\"WEB_PAGE_TYPE_WATCH\",\"rootVe\":3832}},\"watchEndpoint\":{\"videoId\":\"VNX_EOB_tMY\",\"watchEndpointSupportedOnesieConfig\":{\"html5PlaybackOnesieConfig\":{\"commonConfig\":{\"url\":\"https://rr3---sn-oguelnss.googlevideo.com/initplayback?source=youtube\\u0026orc=1\\u0026oeis=1\\u0026c=WEB\\u0026oad=3200\\u0026ovd=3200\\u0026oaad=11000\\u0026oavd=11000\\u0026ocs=700\\u0026oewis=1\\u0026oputc=1\\u0026ofpcc=1\\u0026msp=1\\u0026odeak=1\\u0026odepv=1\\u0026osfc=1\\u0026id=54d5ff10e07fb4c6\\u0026ip=126.94.80.83\\u0026initcwndbps=1320000\\u0026mt=1651795741\\u0026oweuc=\"}}}}},\"upcomingEventData\":{\"startTime\":\"1651849200\",\"isReminderSet\":false,\"upcomingEventText\":{\"runs\":[{\"text\":\"DATE_PLACEHOLDER\"},{\"text\":\"にプレミア公開\"}]}},\"badges\":[{\"metadataBadgeRenderer\":{\"style\":\"BADGE_STYLE_TYPE_SIMPLE\",\"label\":\"字幕\",\"trackingParams\":\"CJgBEJQ1GAEiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibilityData\":{\"label\":\"字幕\"}}}],\"ownerBadges\":[{\"metadataBadgeRenderer\":{\"icon\":{\"iconType\":\"CHECK_CIRCLE_THICK\"},\"style\":\"BADGE_STYLE_TYPE_VERIFIED\",\"tooltip\":\"確認済み\",\"trackingParams\":\"CJgBEJQ1GAEiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibilityData\":{\"label\":\"確認済み\"}}}],\"trackingParams\":\"CJgBEJQ1GAEiEwjdivqUzsn3AhVCgFYBHT22BjdAxun-g47i_-pUqgEYVVVKRlppcUxNbnRKdWZEQ0hjNmJRaXhn\",\"shortViewCountText\":{\"runs\":[{\"text\":\"57\"},{\"text\":\"人が待機中\"}]},\"menu\":{\"menuRenderer\":{\"items\":[{\"menuServiceItemRenderer\":{\"text\":{\"runs\":[{\"text\":\"キューに追加\"}]},\"icon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"serviceEndpoint\":{\"clickTrackingParams\":\"CJsBEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJsBEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"VNX_EOB_tMY\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJsBEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"VNX_EOB_tMY\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"VNX_EOB_tMY\"]}}]}},\"trackingParams\":\"CJsBEP6YBBgIIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}}],\"trackingParams\":\"CJgBEJQ1GAEiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibility\":{\"accessibilityData\":{\"label\":\"操作メニュー\"}}}},\"thumbnailOverlays\":[{\"thumbnailOverlayTimeStatusRenderer\":{\"text\":{\"runs\":[{\"text\":\"プレミア公開\"}],\"accessibility\":{\"accessibilityData\":{\"label\":\"プレミア公開\"}}},\"style\":\"UPCOMING\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"isToggled\":false,\"untoggledIcon\":{\"iconType\":\"WATCH_LATER\"},\"toggledIcon\":{\"iconType\":\"CHECK\"},\"untoggledTooltip\":\"後で見る\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJoBEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"addedVideoId\":\"VNX_EOB_tMY\",\"action\":\"ACTION_ADD_VIDEO\"}]}},\"toggledServiceEndpoint\":{\"clickTrackingParams\":\"CJoBEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"action\":\"ACTION_REMOVE_VIDEO_BY_VIDEO_ID\",\"removedVideoId\":\"VNX_EOB_tMY\"}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"後で見る\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJoBEPnnAxgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"untoggledIcon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"toggledIcon\":{\"iconType\":\"PLAYLIST_ADD_CHECK\"},\"untoggledTooltip\":\"キューに追加\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJkBEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJkBEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"VNX_EOB_tMY\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJkBEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"VNX_EOB_tMY\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"VNX_EOB_tMY\"]}}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"キューに追加\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJkBEMfsBBgEIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayNowPlayingRenderer\":{\"text\":{\"runs\":[{\"text\":\"再生中\"}]}}}]}},{\"gridVideoRenderer\":{\"videoId\":\"uUfqhM6zNoQ\",\"thumbnail\":{\"thumbnails\":[{\"url\":\"https://i.ytimg.com/vi/uUfqhM6zNoQ/hqdefault.jpg?sqp=-oaymwEbCKgBEF5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLClZE-VaiQwZJEnPGx3jGcFS7sySg\",\"width\":168,\"height\":94},{\"url\":\"https://i.ytimg.com/vi/uUfqhM6zNoQ/hqdefault.jpg?sqp=-oaymwEbCMQBEG5IVfKriqkDDggBFQAAiEIYAXABwAEG\\u0026rs=AOn4CLDRSt8AuIZuSf30ihyYALEBc9uahw\",\"width\":196,\"height\":110},{\"url\":\"https://i.ytimg.com/vi/uUfqhM6zNoQ/hqdefault.jpg?sqp=-oaymwEcCPYBEIoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLBZv--5JbYeXbwZbL-ZfhzCURSntw\",\"width\":246,\"height\":138},{\"url\":\"https://i.ytimg.com/vi/uUfqhM6zNoQ/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==\\u0026rs=AOn4CLCmhxlu1VyVTzSbyxOfnQtl91iX7A\",\"width\":336,\"height\":188}]},\"title\":{\"runs\":[{\"text\":\"【#いろはにコラボ】祝！鬼灯日和リリース記念！短歌第2弾発表会コラボ配信！\"}],\"accessibility\":{\"accessibilityData\":{\"label\":\"【#いろはにコラボ】祝！鬼灯日和リリース記念！短歌第2弾発表会コラボ配信！作成者:hololiveホロライブ-VTuberGroup1日前に配信済み1時間10分177,432回視聴\"}}},\"publishedTimeText\":{\"simpleText\":\"1日前に配信済み\"},\"viewCountText\":{\"simpleText\":\"177,432回視聴\"},\"navigationEndpoint\":{\"clickTrackingParams\":\"CJQBEJQ1GAIiEwjdivqUzsn3AhVCgFYBHT22BjcyCmctaGlnaC1jcnZaGFVDSkZaaXFMTW50SnVmRENIYzZiUWl4Z5oBBRDyOBhmqgEYVVVKRlppcUxNbnRKdWZEQ0hjNmJRaXhn\",\"commandMetadata\":{\"webCommandMetadata\":{\"url\":\"/watch?v=uUfqhM6zNoQ\",\"webPageType\":\"WEB_PAGE_TYPE_WATCH\",\"rootVe\":3832}},\"watchEndpoint\":{\"videoId\":\"uUfqhM6zNoQ\",\"watchEndpointSupportedOnesieConfig\":{\"html5PlaybackOnesieConfig\":{\"commonConfig\":{\"url\":\"https://rr2---sn-oguesn6d.googlevideo.com/initplayback?source=youtube\\u0026orc=1\\u0026oeis=1\\u0026c=WEB\\u0026oad=3200\\u0026ovd=3200\\u0026oaad=11000\\u0026oavd=11000\\u0026ocs=700\\u0026oewis=1\\u0026oputc=1\\u0026ofpcc=1\\u0026msp=1\\u0026odeak=1\\u0026odepv=1\\u0026osfc=1\\u0026id=b947ea84ceb33684\\u0026ip=126.94.80.83\\u0026initcwndbps=1320000\\u0026mt=1651795741\\u0026oweuc=\"}}}}},\"ownerBadges\":[{\"metadataBadgeRenderer\":{\"icon\":{\"iconType\":\"CHECK_CIRCLE_THICK\"},\"style\":\"BADGE_STYLE_TYPE_VERIFIED\",\"tooltip\":\"確認済み\",\"trackingParams\":\"CJQBEJQ1GAIiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibilityData\":{\"label\":\"確認済み\"}}}],\"trackingParams\":\"CJQBEJQ1GAIiEwjdivqUzsn3AhVCgFYBHT22BjdAhO3M9czQ-qO5AaoBGFVVSkZaaXFMTW50SnVmRENIYzZiUWl4Zw==\",\"shortViewCountText\":{\"accessibility\":{\"accessibilityData\":{\"label\":\"17万回視聴\"}},\"simpleText\":\"17万回視聴\"},\"menu\":{\"menuRenderer\":{\"items\":[{\"menuServiceItemRenderer\":{\"text\":{\"runs\":[{\"text\":\"キューに追加\"}]},\"icon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"serviceEndpoint\":{\"clickTrackingParams\":\"CJcBEP6YBBgHIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJcBEP6YBBgHIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"uUfqhM6zNoQ\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJcBEP6YBBgHIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"uUfqhM6zNoQ\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"uUfqhM6zNoQ\"]}}]}},\"trackingParams\":\"CJcBEP6YBBgHIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}}],\"trackingParams\":\"CJQBEJQ1GAIiEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"accessibility\":{\"accessibilityData\":{\"label\":\"操作メニュー\"}}}},\"thumbnailOverlays\":[{\"thumbnailOverlayTimeStatusRenderer\":{\"text\":{\"accessibility\":{\"accessibilityData\":{\"label\":\"1時間10分12秒\"}},\"simpleText\":\"1:10:12\"},\"style\":\"DEFAULT\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"isToggled\":false,\"untoggledIcon\":{\"iconType\":\"WATCH_LATER\"},\"toggledIcon\":{\"iconType\":\"CHECK\"},\"untoggledTooltip\":\"後で見る\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJYBEPnnAxgCIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"addedVideoId\":\"uUfqhM6zNoQ\",\"action\":\"ACTION_ADD_VIDEO\"}]}},\"toggledServiceEndpoint\":{\"clickTrackingParams\":\"CJYBEPnnAxgCIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/browse/edit_playlist\"}},\"playlistEditEndpoint\":{\"playlistId\":\"WL\",\"actions\":[{\"action\":\"ACTION_REMOVE_VIDEO_BY_VIDEO_ID\",\"removedVideoId\":\"uUfqhM6zNoQ\"}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"後で見る\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJYBEPnnAxgCIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayToggleButtonRenderer\":{\"untoggledIcon\":{\"iconType\":\"ADD_TO_QUEUE_TAIL\"},\"toggledIcon\":{\"iconType\":\"PLAYLIST_ADD_CHECK\"},\"untoggledTooltip\":\"キューに追加\",\"toggledTooltip\":\"追加済み\",\"untoggledServiceEndpoint\":{\"clickTrackingParams\":\"CJUBEMfsBBgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true}},\"signalServiceEndpoint\":{\"signal\":\"CLIENT_SIGNAL\",\"actions\":[{\"clickTrackingParams\":\"CJUBEMfsBBgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"addToPlaylistCommand\":{\"openMiniplayer\":true,\"videoId\":\"uUfqhM6zNoQ\",\"listType\":\"PLAYLIST_EDIT_LIST_TYPE_QUEUE\",\"onCreateListCommand\":{\"clickTrackingParams\":\"CJUBEMfsBBgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\",\"commandMetadata\":{\"webCommandMetadata\":{\"sendPost\":true,\"apiUrl\":\"/youtubei/v1/playlist/create\"}},\"createPlaylistServiceEndpoint\":{\"videoIds\":[\"uUfqhM6zNoQ\"],\"params\":\"CAQ%3D\"}},\"videoIds\":[\"uUfqhM6zNoQ\"]}}]}},\"untoggledAccessibility\":{\"accessibilityData\":{\"label\":\"キューに追加\"}},\"toggledAccessibility\":{\"accessibilityData\":{\"label\":\"追加済み\"}},\"trackingParams\":\"CJUBEMfsBBgDIhMI3Yr6lM7J9wIVQoBWAR09tgY3\"}},{\"thumbnailOverlayNowPlayingRenderer\":{\"text\":{\"runs\":[{\"text\":\"再生中\"}]}}}],\"richThumbnail\":{\"movingThumbnailRenderer\":{\"movingThumbnailDetails\":{\"thumbnails\":[{\"url\":\"https://i.ytimg.com/an_webp/uUfqhM6zNoQ/mqdefault_6s.webp?du=3000\\u0026sqp=CPCt0ZMG\\u0026rs=AOn4CLB_-Ckj1tPA1-S9yFWGs4NdlBHo8w\",\"width\":320,\"height\":180}],\"logAsMovingThumbnail\":true},\"enableHoveredLogging\":true,\"enableOverlay\":true}}}}]}}],\"trackingParams\":\"CCYQuy8YACITCN2K-pTOyfcCFUKAVgEdPbYGNw==\"}}],\"trackingParams\":\"CCEQui8iEwjdivqUzsn3AhVCgFYBHT22Bjc=\",\"targetId\":\"browse-feedUCJFZiqLMntJufDCHc6bQixgvideos\"}},\"trackingParams\":\"CCAQ8JMBGAYiEwjdivqUzsn3AhVCgFYBHT22Bjc=\"}}]}}};</script>\n");

      Connection mockConnection = Mockito.mock(Connection.class);
      Mockito.when(mockConnection.get()).thenReturn(mockDocument);

      mock.when(() -> Jsoup.connect(anyString())).thenReturn(mockConnection);

      List<YtdGridRendererDto> result = youtubeController.videos("test");
      Assertions.assertNotNull(result);
      Assertions.assertEquals(3, result.size());
    }
  }

}

//Generated with love by TestMe :) Please report issues and submit feature requests at: http://weirddev.com/forum#!/testme